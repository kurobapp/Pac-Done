# Pac-Done (パックダン)



**Pac-Done**は、クラシックなレトロゲームのUI/UXとゲーミフィケーションの要素を取り入れた、Todo管理アプリケーションです。

**デプロイ先URL (GitHub Pages):**
> [https://YOUR_USERNAME.github.io/YOUR_REPOSITORY_NAME/](https://YOUR_USERNAME.github.io/YOUR_REPOSITORY_NAME/)
>
> ※上記URLを書き換えてください

---

## 🚀 コンセプト：「タスクに追われる」を「退治」する

このアプリは、「溜まったタスクにゴーストのように追われる」という感覚をゲームとして昇華させることを目指しています。

* **タスク ＝ ゴースト**:
    タスクを追加すると、それに対応するゴーストが迷路内に出現します。
* **完了タスク ＝ パワーエサ**:
    タスクを「完了（餌にする）」と、迷路内にパワーエサ（完了タスク）が配置されます。
* **タスクの消化 ＝ ゴースト退治**:
    プレイヤー（パックマン）がパワーエサを食べると、対応するゴーストが「イジケ状態」になり、捕食（＝タスクの完全消化）が可能になります。

単にタスクをこなすだけでなく、「タスクを退治する」というカタルシスを通じて、日々の生産活動を楽しく動機づけることを目的としています。

---

## 📸 スクリーンショット

| タスク管理リスト | 迷路 (ゲーム画面) | 締切警告 |
| :---: | :---: | :---: |
|  |  |  |
| タスクの追加や期限設定、完了（餌化）が行えます。 | 追加されたタスクはゴーストとして、完了したタスクは餌として出現します。 | 締切が近いタスクはリスト上で警告表示されます。 |

> ※上記 `` の部分を実際のスクリーンショット画像（3枚以上推奨）に差し替えてください。

---

## ✨ 主な機能

* **Todo管理機能**:
    * タスクの追加（テキスト・期限日）
    * タスク名の変更
    * タスク期限の変更
    * タスクの削除（リストからのみ）
    * タスクの完了（＝迷路上の「餌」に変換）
* **ゲーム連携機能**:
    * **ゴーストの発生**: タスクを追加すると、対応するゴーストが迷路に出現します。
    * **スピードアップ**: 期限切れ（`isOverdue`）のタスクに対応するゴーストは、プレイヤーを**2倍速**で追跡します。
    * **パワーアップ**: タスクを完了（餌化）すると、迷路にパワーエサが出現。食べるとスコアが加算され、対応するゴーストが一定時間「イジケ状態（`FRIGHTENED`）」になります。
    * **ゴーストの沈静化**: 期限切れで2倍速になっていたゴーストも、タスクを完了（餌化）すれば通常の速度に戻ります。
    * **ペナルティ**: ゴーストに捕まると**スコアが0**になり、プレイヤーとゴーストの**位置のみ**が初期地点にリセットされます（ゴーストのイジケ状態などは維持されます）。
* **UI/UX機能**:
    * 締切日に応じたリスト項目のハイライト（2日前: Near, 当日/1日前: Danger）。
    * Danger状態のタスクは点滅アニメーションで警告します。
* **データ保存**:
    * `localStorage` を使用し、タスクリスト、迷路上の餌、スコア、ゴーストの状態（種類、イジケ状態か否か）をブラウザに保存します。

---

## 💡 挑戦・工夫した点

### 1. ゲーミフィケーションの設計と状態連携

本プロジェクトで最も注力したのは、Todo管理とゲームロジックを**シームレスに連携**させる設計です。

* **着想**: 単なるTodoリストではタスクを「こなす」だけですが、「タスク＝敵（ゴースト）」と見立て、それを「倒す（食べる）」というゲーム体験に落とし込むことで、モチベーションの向上を図りました。
* **実装**: 3つの主要なJavaScriptファイル（`app.js`, `task.js`, `pacman.js`）が、コールバック関数と共有ステート（`sharedState`）を通じて連携するアーキテクチャを採用しました。
    * `task.js` でタスクが追加されると `app.js` が検知し、`pacman.js` に「ゴースト生成（`spawnGhost`）」を命令します。
    * この際、タスクのID（`taskId`）がゴーストのIDとして紐付けられます。
    * `pacman.js` でパワーエサ（`taskId`を持つ）が食べられると、`app.js` を経由して、該当するIDを持つゴーストを「イジケ状態（`setGhostFrightened`）」にします。

### 2. 「期限切れ」の視覚的・機能的ペナルティ

タスクの緊急性をゲームロジックに反映させるため、「期限切れ（`isOverdue`）」の概念を導入しました。

* **UI（リスト）**: 締切が迫ると、`task.js` がCSSクラス（`.deadline-danger`）を付与し、リストの見た目が変わります。
* **AI（ゴースト）**: `app.js` がタスク追加時やロード時に期限を判定し、期限切れの場合は `isOverdue` フラグを立ててゴーストを生成します。`pacman.js` の `moveGhosts` 関数は、このフラグを持つゴーストの移動処理を2回実行し、実質的な**2倍速**を実現しています。

### 3. 素のJavaScriptによるDOM操作とゲームループ制御

ライブラリをあえて使用せず、素のJavaScript（ES6）のみで複雑なゲームロジックとDOM操作を実現しました。

* `setInterval` を利用した `gameLoop`（`pacman.js`）でプレイヤーとゴーストの移動、当たり判定を管理しています。
* ゴーストのAI（`findBestMove`）では、プレイヤーとの距離を計算し、壁やワープゾーンを考慮しながら最短経路で追跡するロジックを実装しました。
* タスクリスト（`task.js`）では、状態が変更されるたびにDOMを再生成するのではなく、必要な要素（`li`など）を動的に生成・削除・更新することでパフォーマンスに配慮しました。

---

## 🛠️ 使用技術

* **HTML5**
* **CSS3**
    * CSS Grid Layout (迷路の描画)
    * CSS Keyframes (締切警告アニメーション)
    * `clip-path` (パックマンの口パク)
* **JavaScript (ES6+)**
    * `localStorage` (データ永続化)
    * DOM API (DOM操作)
    * `setInterval` (ゲームループ)

---

## 🗓️ 開発期間

* 開発期間: 2025.10.xx ~ 2025.11.xx
* 開発時間: 約 XXX時間

> ※上記の日付と時間（目安16時間以上）を書き換えてください